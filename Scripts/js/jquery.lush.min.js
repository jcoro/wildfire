/*!
 * Lush Content Slider
 * http://geedmo.com
 *
 * Version: 1.6
 * Created: 04/02/2013
 * Updated: 07/05/2013
 *
 * Copyright (c) 2013, Geedmo. All rights reserved.
 * Released under CodeCanyon Regular License: http://codecanyon.net/licenses
 *
 * News: http://codecanyon.net/user/geedmo/portfolio
 * ======================================================= */
(function(d,h,n,e){d.fn.forceReflow=function(){return this.each(function(){var v=this.offsetWidth})};d.fn.clearState=function(v){return this.each(function(){d(this).removeClass(d(this).data("activeClass")?d(this).data("activeClass"):"").removeClass(v).removeClass("live")})};d.fn.prepareEffect=function(v,w){return this.each(function(){var x=d(this);if(x.css(d.support.css3feature.animation.name+"FillMode")==="both"){x.clearTransition().css(d.support.css3feature.animation.name+"Duration",v+"ms").css(d.support.css3feature.animation.name+"TimingFunction",w)}else{var y={};y[d.support.css3feature.transition.name+"Property"]="all";y[d.support.css3feature.transition.name+"Duration"]=v+"ms";y[d.support.css3feature.transition.name+"TimingFunction"]=w;y[d.support.css3feature.transition.name+"Delay"]="0s";x.css(y)}})};d.fn.clearTransition=function(){return this.each(function(){d(this).css(d.support.css3feature.transition.name+"Duration","0s").css(d.support.css3feature.transition.name,"none")})};var a="lush",t="lush-slider",b="flexslider",f="lush",q="lush-prev",r="lush-next",j="lush-page",c="lush-nav",p="lush-shadow",o="lush-external",s="lushSlider",l="lushFlexslider",g=50;function u(v,w){d.support.css3feature=(function(){var x=n.createElement("lush"),y=(function(){var A={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},B;for(B in A){if(x.style[B]!==e){return{end:A[B],name:B}}}}()),z=(function(){var A={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",MSAnimation:"MSAnimationEnd",animation:"animationend"},B;for(B in A){if(x.style[B]!==e){return{end:A[B],name:B}}}}());x=null;return(y||z)&&{transition:y,animation:z}})();d.data(v,a,this);this.container=d(v);this.elements=this.container.children().not(".ignore, .lush-nav");this.options=w;this.sliding=false;this.stopped=false;this.paused=false;this.outRendered=false;this.options.deadtime=isNaN(parseInt(this.options.deadtime))?0:parseInt(this.options.deadtime);this.options.delayed=isNaN(parseInt(this.options.delayed))?0:parseInt(this.options.delayed);if(!this.options.slider&&this.options.carousel){this.options.carousel=false}this.cssEasing={linear:"linear",swing:"ease-out",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(0.6,-0.28,0.735,0.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};this.container.css({visibility:"hidden"});if(this.options.slider){this.container.hide()}this.preload(this.container,d.proxy(this.init,this))}u.prototype={init:function(){var v=0,x=0,y,w=this;if(!this.container.hasClass("lush")){this.container.addClass("lush")}this.container.css({visibility:"visible"});this.updatePos();if(this.options.flexslider){y=this.container.css("display")}if(this.options.slider){this.container.show()}d.each(this.elements,d.proxy(function(B,A){var C=this.elements[B].$el=d(A),z;C.slideIn={};C.slideOut={};z=C.data("slide-in")||w.container.data("slide-in");if(z){C.dataIn=z.split(" ")}C.slideIn.at=parseInt(this.get("at",C.dataIn));C.slideIn.from=this.get("from",C.dataIn);C.slideIn.use=this.get("use",C.dataIn);C.slideIn.during=parseInt(this.get("during",C.dataIn));C.slideIn.plus=parseInt(this.get("plus",C.dataIn));C.slideIn.force=this.get("force",C.dataIn);if(C.slideIn.plus>0){C.slideIn.at+=C.slideIn.plus+x}x=C.slideIn.at;z=C.data("slide-out")||w.container.data("slide-out");if(z){C.dataOut=z.split(" ");C.slideOut.at=parseInt(this.get("at",C.dataOut));C.slideOut.to=this.get("to",C.dataOut);C.slideOut.use=this.get("use",C.dataOut);C.slideOut.during=parseInt(this.get("during",C.dataOut));C.slideOut.plus=parseInt(this.get("plus",C.dataOut));C.slideOut.force=this.get("force",C.dataOut);if(C.slideOut.plus>0){C.slideOut.at+=C.slideOut.plus+v}v=C.slideOut.at}C.css({position:"absolute"});C=null},this));this.saveSize();if(this.options.slider){this.container.hide()}if(this.options.autostart){this.start()}this.options.onInit.call(this.container);this.container.trigger("lushInit");d(h).resize(d.proxy(this.resize,this))},get:function(x,v){var w=d.inArray(x,v);if(w<0){return this.options.param[x]}return v[w+1]||!v[w+1]},renderIn:function(){var v=this,x=this.carouselInvert(),w=this.elements.length;this.container.addClass("running");this.elements.each(d.proxy(function(z,y){var A=y.$el,z;A.delay(parseInt(x?v.elements[--w].$el.slideIn.at:A.slideIn.at));this.from(A);if((z==this.elements.length-1)){A.queue(function(){if(v.options.onSlideIn&&v.options.onSlideIn.call(v.container)===false){return}v.container.trigger("slideIn");d(this).dequeue()})}if(this.options.deadtime>0&&!A.slideOut.force){A.delay(this.options.deadtime)}if(d.support.css3feature){A.show()}},this));return this},renderOut:function(){var v=this,x=this.carouselInvert(),w=this.elements.length;if(!this.container.hasClass("running")){this.container.addClass("running")}this.container.trigger("slideOut");this.outRendered=true;this.outStarted=false;this.elements.each(d.proxy(function(z,y){var A=y.$el,z;if(A.slideOut.at>=0){A.delay(parseInt(x?v.elements[--w].$el.slideOut.at:A.slideOut.at));A.queue(function(){if(v.paused&&!A.slideOut.force&&!v.outStarted){z=setInterval(d.proxy(function(){if(!v.paused){clearInterval(z);d(this).dequeue()}},this),50)}else{d(this).dequeue();if(!A.slideOut.force){v.outStarted=true}}});this.to(A);if((z==this.elements.length-1)){A.queue(function(){v.options.onSlideOut.call(v.container);d(this).dequeue()})}}},this));return this},start:function(){if(this.sliding){return}this.sliding=true;this.container.show();this.container.addClass("active");this.resize();this.container.trigger("slideStart");this.options.onSlide.call(this.container);this.renderIn();if(!this.options.manual){this.renderOut()}this.end();if(this.options.carousel){this.container.parent().data("from-direction",this.options.direction)}},end:function(v){var w=this;d.when(this.elements).done(d.proxy(function(){if(!this.outRendered){this.container.removeClass("running");this.container.trigger("slideStop");return}this.outRendered=false;this.endslide(v)},this));return this},endslide:function(v){if(this.options.onSlided&&this.options.onSlided.call(this.container)===false){return}this.sliding=false;this.container.removeClass("active running").trigger("slideEnd");if(this.options.slider&&!this.stopped&&!v){this.advance()}this.stopped=false},advance:function(x){var w=x||this.options.direction,v;if(!this.sliding){v=(w=="next")?this.options.syncNext:this.options.syncPrev;d(v).lush("start")}},preload:function(x,y){var v=[],w=0;this.container.find("*").each(function(A,B){var C=d(B),z,D;if(C[0].tagName==="IMG"){D={src:C.attr("src"),tag:C[0].tagName};v.push(D)}else{if(C[0].tagName==="IFRAME"){D={src:C.attr("src"),tag:C[0]};v.push(D)}else{z=C.css("background-image");if(z!=="none"&&z.indexOf("url")>=0){D={src:z.match(/url\((.*)\)/)[1].replace(/"/gi,""),tag:"IMG"};v.push(D)}}}});if(!v.length){y()}else{d.each(v,function(z,A){if(A.tag==="IMG"){d("<"+A.tag+">").load(function(){if(++w==v.length){y()}}).attr("src",A.src)}else{d(A.tag).load(function(){if(++w==v.length){y()}})}})}},stop:function(){this.stopped=true;this.elements.each(function(w,v){while(v.$el.queue().length){v.$el.stop(false,(!d.support.css3feature))}});return this},go:function(w){var v=this;if(this.options.carousel){this.container.parent().data("from-direction",w)}if(this.options.manual){if(this.outRendered){return}this.renderOut().end()}else{this.state("resume").stop().advance(w)}},state:function(v){this.paused=(v==="pause");if(this.paused){this.container.addClass("paused")}else{this.container.removeClass("paused")}return this},size:function(){return{width:this.container.width(),height:this.container.height()}},hide:function(){this.elements.hide()},show:function(){this.elements.show()},saveSize:function(){var v={};this.containerSize={width:this.options.baseWidth,height:this.options.baseHeight};this.elements.each(function(y,x){var w=d(x);v.fs=parseInt(w.css("font-size"),0)||0;v.lh=parseInt(w.css("line-height"))||0;v.pt=parseInt(w.css("paddingTop"),0)||0;v.pb=parseInt(w.css("paddingBottom"),0)||0;v.pl=parseInt(w.css("paddingLeft"),0)||0;v.pr=parseInt(w.css("paddingRight"),0)||0;v.mt=parseInt(w.css("marginTop"),0)||0;v.mb=parseInt(w.css("marginBottom"),0)||0;v.ml=parseInt(w.css("marginLeft"),0)||0;v.mr=parseInt(w.css("marginRight"),0)||0;v.btw=parseInt(w.css("borderTopWidth"),0)||0;v.bbw=parseInt(w.css("borderBottomWidth"),0)||0;v.blw=parseInt(w.css("borderLeftWidth"),0)||0;v.brw=parseInt(w.css("borderRightWidth"),0)||0;v.bts=w.css("borderTopStyle");v.bbs=w.css("borderBottomStyle");v.bls=w.css("borderLeftStyle");v.brs=w.css("borderRightStyle");v.btc=w.css("borderTopColor");v.bbc=w.css("borderBottomColor");v.blc=w.css("borderLeftColor");v.brc=w.css("borderRightColor");v.hg=parseInt(w.height())||v.lh||0;v.wd=parseInt(w.width())||0;v.b=w.css("bottom");v.l=w.css("left");v.r=w.css("right");w.data("properties",d.extend({},v))})},updatePos:function(){var v=this;this.elements.each(function(y,x){var w=d(x);if(!v.isUnit(x.style.left,"%")){w.css("left",(parseFloat(x.style.left)*100/v.options.baseWidth)+"%")}if(!v.isUnit(x.style.top,"%")){w.css("top",(parseFloat(x.style.top)*100/v.options.baseHeight)+"%")}})},isUnit:function(w,v){return((w.indexOf(v)>0)||(v=="px"||w=="auto"))},resize:function(){var w,x,v;x=this.container.width()/this.containerSize.width;if(!this.options.flexslider){this.container.css({height:this.containerSize.height*x});this.container.parent().css({height:this.containerSize.height*x})}this.elements.each(function(z,y){v=d(y);w=v.data("properties");if(!w){return false}v.css({"font-size":(Math.floor(w.fs*x))+"px","line-height":(Math.floor(w.lh*x))+"px","padding-top":(w.pt*x)+"px","padding-bottom":(w.pb*x)+"px","padding-left":(w.pl*x)+"px","padding-right":(w.pr*x)+"px","border-top":(w.btw*x)+"px "+w.bts+" "+w.btc,"border-bottom":(w.bbw*x)+"px "+w.bbs+" "+w.bbc,"border-left":(w.blw*x)+"px "+w.bls+" "+w.blc,"border-right":(w.brw*x)+"px "+w.brs+" "+w.brc,height:(w.hg*x)+"px",width:(w.wd*x)+"px","white-space":"nowrap"});if(y.tagName==="IFRAME"){v.attr({width:(w.wd*x),height:(w.hg*x)})}})},carouselInvert:function(){var v=this.container.parent().data("from-direction");return(this.options.carousel&&v&&v!==this.options.direction)},from:function(z){var w,x,A=false,v=this,y;y=this.carouselInvert()?z.slideOut.to:z.slideIn.from;if(d.support.css3feature){z.clearTransition().clearState("out").addClass("in").data("activeClass",y).addClass(y).forceReflow().prepareEffect(z.slideIn.during,v.cssEasing[z.slideIn.use]).queue(function(){d(this).forceReflow().addClass("live").forceReflow().dequeue()}).delay(parseInt(z.slideIn.during)-100)}else{switch(y){case"left":case"l":w={"margin-left":-this.container.width(),"margin-top":0};x={"margin-left":0};break;case"right":case"r":w={"margin-left":this.container.width(),"margin-top":0};x={"margin-left":0};break;case"top":case"t":w={"margin-top":-this.container.height(),"margin-left":0};x={"margin-top":0};break;case"bottom":case"b":w={"margin-top":this.container.height(),"margin-left":0};x={"margin-top":0};break;case"left-fade":case"lf":w={"margin-left":-g,opacity:0,"margin-top":0};x={"margin-left":0,opacity:1};break;case"right-fade":case"rf":w={"margin-left":g,opacity:0,"margin-top":0};x={"margin-left":0,opacity:1};break;case"top-fade":case"tf":w={"margin-top":-g,opacity:0,"margin-left":0};x={"margin-top":0,opacity:1};break;case"bottom-fade":case"bf":w={"margin-top":g,opacity:0,"margin-left":0};x={"margin-top":0,opacity:1};break;default:A=true;break}if(A){z.css("margin",0).hide().fadeTo(parseInt(z.slideIn.during),1)}else{z.css(w).show().animate(x,{duration:parseInt(z.slideIn.during),easeing:z.slideIn.use})}}return{from:w,to:x}},to:function(z){var x,w,A=false,v=this,y;y=this.carouselInvert()?z.slideIn.from:z.slideOut.to;if(d.support.css3feature){z.queue(function(){d(this).clearState("in").addClass("out").data("activeClass",y).addClass(y).prepareEffect(z.slideOut.during,v.cssEasing[z.slideOut.use]).forceReflow().dequeue()});z.delay(50);z.queue(function(){d(this).forceReflow().addClass("live").forceReflow().dequeue()});z.delay(parseInt(z.slideOut.during)-100)}else{switch(y){case"left":case"l":w={"margin-left":0};x={"margin-left":-this.container.width()};break;case"right":case"r":w={"margin-left":0};x={"margin-left":this.container.width()};break;case"top":case"t":w={"margin-top":0};x={"margin-top":-this.container.height()};break;case"bottom":case"b":w={"margin-top":0};x={"margin-top":this.container.height()};break;case"left-fade":case"lf":x={"margin-left":-g,opacity:0};w={"margin-left":0,opacity:1};break;case"right-fade":case"rf":x={"margin-left":g,opacity:0};w={"margin-left":0,opacity:1};break;case"top-fade":case"tf":x={"margin-top":-g,opacity:0};w={"margin-top":0,opacity:1};break;case"bottom-fade":case"bf":x={"margin-top":g,opacity:0};w={"margin-top":0,opacity:1};break;default:A=true;break}if(A){z.fadeOut(parseInt(z.slideOut.during))}else{z.animate(x,{duration:parseInt(z.slideOut.during),easing:z.slideOut.use})}}return{to:x}}};function m(v,w){this.container=d(v);this.items=this.container.children("li, .lush");this.itemCount=this.items.length;this.loopCount=0;this.options=w.slider;this.lush=w;this.sliding=false;this.options.manual=!!this.lush.manual;if(this.options.manual){this.options.pauseOnHover=false}this.preload(d.proxy(this.init,this))}m.prototype={init:function(){var w,y,v=0,x=this;if(this.options.fullPreload){this.items.one("lushInit",function(){if(++v==x.itemCount){x.items.eq(0).lush("start");x.addstuff();x.activePage(1)}})}else{this.items.eq(0).one("lushInit",function(){d(this).lush("start");x.addstuff();x.activePage(1)})}this.items.each(d.proxy(function(z,A){d(A).data("slide-index",z+1);w=z+1;y=z-1;if(z==(this.itemCount-1)){w=0}if(z==0){y=(this.itemCount-1)}d(A).width(this.container.width()).lush(d.extend(this.lush,{autostart:false,slider:true,flexslider:false,carousel:(!!this.options.carousel),syncNext:this.items[w],syncPrev:this.items[y],onSlide:function(){x.activePage(this.data("slide-index"));if(x.loopEnds.call(x)){this.lush("pause");x.container.off(".lushhover");this.trigger("loopEnd")}}}))},this))},addstuff:function(){if(this.options.navigation){this.addnav()}if(this.options.shadow){d("<div/>",{"class":p}).appendTo(this.container)}this.addevents();this.updateNav()},preload:function(x){var w=false,v=this.container.css("background-image");if(v!=="none"&&v.indexOf("url")>=0){w=v.match(/url\((.*)\)/)[1].replace(/"/gi,"")}if(!w){x()}else{d("<img>").load(x).attr("src",w)}},addnav:function(){var v=this;this.nav=d("<div/>").appendTo(this.container).addClass(c);d('<a href="#" class="'+q+'">&lt;</a>').appendTo(this.nav);if(this.options.pager){for(i=0;i<this.itemCount;i++){d('<a href="#" class="'+j+'" rel="'+(i+1)+'">'+(i+1)+"</a>").appendTo(this.nav)}}d('<a href="#" class="'+r+'">&gt;</a>').appendTo(this.nav)},updateNav:function(){var v=this.nav&&parseInt(this.nav.css("line-height"));this.nav&&this.nav.css({left:this.container.width()/2-this.nav.width()/2,lineHeight:v===0?0:this.container.height()/2+"px"})},activePage:function(v){if(this.nav){this.nav.children(".current").removeClass("current");this.nav.children("a[rel="+v+"]").addClass("current")}},addevents:function(){var x=this,y=function(){x.items.filter(".active").lush("next")},z=function(){x.items.filter(".active").lush("prev")},w=function(){x.items.lush("pause")},v=function(){x.items.lush("resume")};if(this.options.responsive){d(h).resize(function(){x.items.each(function(A,B){d(B).width(x.container.width())});setTimeout(d.proxy(x.updateNav,x),100)})}if(this.options.navigation){this.nav.on("click.lush",function(B){B.preventDefault();var A=d(B.target);if(x.sliding){return}if(A.is("."+q)){z()}if(A.is("."+r)){y()}if(A.is("."+j)){x.slideto.call(x,parseInt(A.attr("rel")))}return false})}d("."+o).on("click.lush",function(B){var A=parseInt(d(this).data("slideto"));x.slideto(A)});if(this.options.pauseOnHover){this.container.on("mouseenter.lushhover.in",w).on("mouseleave.lushhover.out",v)}if(this.options.keyboard){d(n).on("keyup.lush",function(B){var A=B.keyCode;if(x.sliding){return}if(A==37){z()}if(A==39){y()}})}},loopEnds:function(){return(this.options.loop&&(this.options.loop*this.itemCount)<=(this.loopCount++))},slideto:function(A){var w=this,z=this.items.filter(".active"),v=z.hasClass("running"),x=this.lush.manual?"slideout":"stop",y;if(this.lush.manual&&v){return}if(!this.sliding&&(A>0&&A<=this.itemCount)){this.sliding=true;y=this.items.eq(A-1);if(y.hasClass("active")){this.sliding=false;return}y.one("slideStop",function(){w.sliding=false});z.one("slideEnd",function(){y.one("slideStart",function(){w.sliding=false}).lush("start")}).lush(x)}}};function k(I){var x=d(this),v=d.extend({},d.flexslider.defaults,I.flexslider),B=x.find(v.selector),A=B.length,H=v.namespace?v.namespace:"flex-",z=H+"active-slide",w=H+"next",G=H+"prev",F=false,C=function(){B.lush("pause")},D=function(){B.lush("resume")},E;B.each(function(J,K){d(K).children().not(".ignore").hide()});x.flexslider(d.extend(v,{start:function(J){J.slides.eq(0).one("lushInit",function(){d(this).lush("start")});J.slides.lush(d.extend(I,{autostart:false,slider:false,onSlided:y}))},after:function(J){J.slides.filter("."+z).lush("start")},before:function(J){E=J.slides.not(":eq("+J.animatingTo+")").lush("stop")}}));function y(){if(!x.data("flexslider").animating&&!F){x.flexslider("next")}return true}if(I.flexslider.pauseOnHover){x.hover(function(){F=true;C()},function(){F=false;D();if(!x.find(".running").length){y()}})}}d.fn[a]=function(v){if((typeof v).match("object|undefined")){return this.each(function(){var x=d(this),w=d.extend(true,{},d.fn[a].defaults,x.data(),typeof v=="object"&&v);if(x.hasClass(t)){if(!d.data(this,s)){d.data(this,s,new m(this,w))}}else{if(x.hasClass(b)){if(!d.data(this,l)&&d.flexslider){d.data(this,l,1);k.call(this,w)}}else{if(!d.data(this,a)){new u(this,w)}}}})}else{return this.each(function(w){if(typeof v=="string"){var y=d.data(this,a);if(!y){return}switch(v){case"start":case"stop":case"hide":case"show":case"resize":y[v]();break;case"prev":case"next":y.go(v);break;case"pause":case"resume":y.state(v);break;case"slidein":y.renderIn().end();break;case"slideout":y.renderOut().end(true);break}}if(typeof v=="number"){var x=d.data(this,s);x.slideto(v)}})}};d.fn[a].defaults={param:{at:0,from:"left",to:"right",use:"swing",during:1000,plus:0,force:false},autostart:true,baseWidth:1140,baseHeight:450,direction:"next",manual:false,slider:false,flexslider:false,syncNext:"",syncPrev:"",delayed:600,slider:{pauseOnHover:false,navigation:true,shadow:true,keyboard:true,pager:true,responsive:true,loop:0,fullPreload:false,carousel:false,deadtime:0},onInit:function(){},onSlide:function(){},onSlideIn:function(){},onSlideOut:function(){},onSlided:function(){}}})(jQuery,window,document);